{"version":3,"sources":["Components/Game.module.css","Components/Landing.module.css","utils/apiCall.js","utils/constants.js","Components/Game.js","Components/Landing.js","Components/Lobby.js","Components/Player.js","Components/Playing.js","index.js"],"names":["module","exports","apiCall","url","options","fetch","method","headers","then","response","ok","console","log","Error","statusText","json","handleErrors","socket","Landing","useState","name","setName","useCookies","setCookie","history","useHistory","className","styles","landing","title","newRoom","subtitle","roomName","type","input","value","onChange","e","target","button","onClick","body","JSON","stringify","player","id","push","catch","err","Lobby","players","adminSelect","initGame","map","p","key","isAdmin","Player","me","handleClick","selected","disabled","classes","clickeable","join","job","src","jobImage","alt","status","renderJob","Playing","game","events","setTarget","selectTarget","who","find","turn","playerList","day","buttons","coolButton","mafiaButton","kill","policiaButton","investigate","protect","renderButtons","newDaytime","daytime","policeDisabled","alreadyPlayed","includes","medicDisabled","mafiaDisabled","style","flexGrow","smallButton","changeTurn","policeButton","newDayEnabled","length","toggleDay","pass","kick","reset","renderAdmin","Game","setGame","setMe","cookies","useEffect","sessionId","socketIOClient","on","alert","winner","result","emit","event","ReactDOM","render","StrictMode","path","exact","document","getElementById"],"mappings":"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","file":"static/js/main.83c77001.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"Game_game__RYcau\",\"title\":\"Game_title__3Uagc\",\"subtitle\":\"Game_subtitle__l7Thi\",\"adminSelect\":\"Game_adminSelect__2t5sq\",\"cardContainer\":\"Game_cardContainer__3b_U9\",\"allNumbers\":\"Game_allNumbers__2owDI\",\"playerList\":\"Game_playerList__1H81C\",\"day\":\"Game_day__2tUXY\",\"night\":\"Game_night__b9s5w\",\"player\":\"Game_player__3MZVJ\",\"job\":\"Game_job__UQMIx\",\"jobImage\":\"Game_jobImage__Ijw2i\",\"selected\":\"Game_selected__1JxE-\",\"disabled\":\"Game_disabled__39JWk\",\"buttons\":\"Game_buttons__5fBHq\",\"coolButton\":\"Game_coolButton__3e5g_\",\"smallButton\":\"Game_smallButton__2TzgO\",\"mafiaButton\":\"Game_mafiaButton__3LrVC\",\"policiaButton\":\"Game_policiaButton__1c0hW\",\"pass\":\"Game_pass__-haMb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"landing\":\"Landing_landing__hdt2M\",\"title\":\"Landing_title__3hFdR\",\"newRoom\":\"Landing_newRoom__1mEHR\",\"subtitle\":\"Landing_subtitle__sOLCb\",\"roomName\":\"Landing_roomName__lQ_vz\",\"input\":\"Landing_input__2dzEV\",\"button\":\"Landing_button__3Vf0K\"};","export default function apiCall(url, options) {\n\n  return fetch(url, {\n    ...options,\n    method: (options && options.method) || \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n  }).then((response) => handleErrors(response));\n}\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    console.log(response);\n    throw Error(response.statusText);\n  }\n  return response.json();\n}\n","const API_HOST = 'http://localhost:4001';\nconst SESSION_COOKIE = 'mafia-session-id';\n\nexport {\n  API_HOST,\n  SESSION_COOKIE\n}","import React, { useEffect, useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport socketIOClient from \"socket.io-client\";\n\n// Components\nimport Lobby from '../Components/Lobby';\nimport Playing from '../Components/Playing';\n\n// Style\nimport styles from \"./Game.module.css\";\n\n// Utils\nimport { SESSION_COOKIE } from \"../utils/constants\";\n\nlet socket;\nconst Game = () => {\n  const [game, setGame] = useState(null);\n  const [me, setMe] = useState(null);\n  const [cookies] = useCookies([SESSION_COOKIE]);\n\n  useEffect(() => {\n    const sessionId = cookies[SESSION_COOKIE];\n    socket = socketIOClient();\n\n    socket.on(\"game\", (game) => {\n      if (game) {\n        console.log(game);\n        if (game.status === 'game_over') {\n          alert(\"GanÃ³ \" + game.winner);\n        } else {\n          setGame(game);\n          const me = game.players.find(p => p.id === sessionId);\n          setMe(me);\n        }\n      }\n    });\n\n    socket.on(\"investigate\", (result) => {\n      alert('Resultado: ' + result);\n      socket.emit(\"changeTurn\", \"admin\");\n    });\n  }, []);\n\n\n  const emit = (event) => {\n    socket.emit(event);\n  }\n\n  const adminSelect = (value) => {\n    socket.emit('setAdmin', value);\n  }\n\n  const initGame = () => {\n    if (game.players.length < 5) {\n      alert(\"Se necesitan al menos 5 jugadores para comenzar\");\n    } else {\n      emit('beginGame');\n    }\n  }\n\n  const events = {\n    reset: () => emit('reset'),\n    toggleDay: () => emit('toggleDay'),\n    kick: (who) => socket.emit('kick', who),\n    kill: (who) => socket.emit('kill', who),\n    protect: (who) => socket.emit('protect', who),\n    changeTurn: (job) => socket.emit('changeTurn', job),\n    investigate: (who) => socket.emit('investigate', who),\n  }\n\n  if (!game) return <div>Loading</div>;\n\n  return (\n    <div className={styles.game}>\n      {game.status === 'new' &&\n        <Lobby\n          players={game.players}\n          initGame={initGame}\n          adminSelect={adminSelect} />\n      }\n\n      {game.status === 'in_progress' &&\n        <Playing me={me} game={game} events={events} />\n      }\n    </div>\n  );\n};\n\nexport default Game;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useCookies } from \"react-cookie\";\n\n// Utils\nimport apiCall from \"../utils/apiCall\";\nimport { SESSION_COOKIE } from \"../utils/constants\";\n\n// Styles\nimport styles from \"./Landing.module.css\";\n\nconst Landing = () => {\n  const [name, setName] = useState(\"\");\n  const [_, setCookie] = useCookies([\"mafia-session-id\"]);\n  const history = useHistory();\n\n  const joinGame = () => {\n    apiCall(`/api/players`, {\n      method: \"POST\",\n      body: JSON.stringify({ name: name }),\n    })\n      .then((player) => {\n        setCookie(SESSION_COOKIE, player.id);\n        history.push(`/game`)\n      })\n      .catch((err) => console.log(\"Error while creating room\", err));\n  };\n\n  return (\n    <div className={styles.landing}>\n      <h2 className={styles.title}>Mafia!</h2>\n      <section className={styles.newRoom}>\n        <p className={styles.subtitle}>Ingresa tu nombre</p>\n        <label className={styles.roomName}>Nombre</label>\n        <input\n          type=\"text\"\n          className={styles.input}\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <button className={styles.button} onClick={joinGame}>\n          Unirse al juego\n        </button>\n      </section>\n    </div>\n  );\n};\n\nexport default Landing;\n","import React from 'react'\n\n// Style\nimport styles from \"./Game.module.css\";\n\nconst Lobby = ({ players, adminSelect, initGame }) => {\n  return (\n    <>\n      <h4>Jugadores</h4>\n      <div className={styles.adminSelect}>\n        <label>Moderador</label>\n        <select onChange={e => adminSelect(e.target.value)}>\n          <option value=\"\">Seleccionar...</option>\n          {players.map((p) => {\n            return <option key={p.name} value={p.name}>{p.name}</option>\n          })}\n        </select>\n      </div>\n      <ul>\n        {players.map((p) => (\n          <li key={p.id}>{p.name} {p.isAdmin ? ' -> A' : ''}</li>\n        ))}\n      </ul>\n      <button onClick={initGame}>Empezar</button>\n    </>\n  )\n}\n\nexport default Lobby;","import React from 'react';\n\n// Style\nimport styles from \"./Game.module.css\";\n\nconst renderJob = (player, me) => {\n  return <span className={styles.job}>\n    {(player.id === me.id || me.isAdmin) &&\n      <img src={`${player.job}.png`}\n        className={styles.jobImage}\n        alt={player.job} />\n    }\n    <img src={`${player.status}.png`} alt={player.status} />\n  </span>;\n}\n\nconst Player = ({ player, me, handleClick, selected, disabled }) => {\n  const classes = [styles.player];\n  if (selected) classes.push(styles.selected);\n  if (disabled) classes.push(styles.disabled);\n  const clickeable = !disabled && player.id !== me.id;\n\n  return (\n    <li className={classes.join(' ')} onClick={() => clickeable && handleClick(player.id)}>\n      <span>{player.name}</span>\n      {renderJob(player, me)}\n    </li>\n  );\n};\n\nexport default Player;","import React, { useState } from 'react'\n\n// Components \nimport Player from './Player';\n\n// Style\nimport styles from \"./Game.module.css\";\n\nconst renderAdmin = (game, events, target) => {\n  const buttons = [];\n  const newDaytime = game.daytime === 'day' ? 'noche' : 'dia';\n\n  if (game.daytime === 'night') {\n    const policeDisabled = game.alreadyPlayed.includes('policia');\n    const medicDisabled = game.alreadyPlayed.includes('medico');\n    const mafiaDisabled = game.alreadyPlayed.includes('mafia');\n    buttons.push(<button\n      key=\"mafia\"\n      style={{ flexGrow: 1 }}\n      className={[styles.smallButton, styles.mafiaButton].join(' ')}\n      onClick={() => events.changeTurn('mafia')}\n      disabled={mafiaDisabled}>Mafia</button>);\n    buttons.push(<button\n      key=\"medico\"\n      style={{ flexGrow: 1 }}\n      className={styles.smallButton}\n      onClick={() => events.changeTurn('medico')}\n      disabled={medicDisabled}>Medico</button>);\n    buttons.push(<button\n      key=\"policia\"\n      style={{ flexGrow: 1 }}\n      className={[styles.smallButton, styles.policeButton].join(' ')}\n      onClick={() => events.changeTurn('policia')}\n      disabled={policeDisabled}>Policia</button>);\n  }\n  const newDayEnabled = game.alreadyPlayed.length >= 3 || game.daytime === 'day';\n  buttons.push(<button\n    key=\"pass\"\n    onClick={events.toggleDay}\n    className={[styles.smallButton, styles.pass].join(' ')}\n    disabled={!newDayEnabled}>Pasar a {newDaytime}</button>);\n  buttons.push(<button\n    key=\"kick\"\n    style={{ flexGrow: 2 }}\n    onClick={() => events.kick(target.id)}\n    className={styles.smallButton}>Echar {target ? `a ${target.name}` : ''}</button>);\n  buttons.push(<button\n    key=\"reset\"\n    style={{ flexGrow: 2 }}\n    onClick={events.reset}\n    className={styles.smallButton}>Volver a empezar</button>);\n\n  return [...buttons]\n}\n\nconst renderButtons = (turn, me, events, target) => {\n  if (turn === me.job) {\n    const classes = [styles.coolButton];\n    switch (me.job) {\n      case 'mafia': {\n        classes.push(styles.mafiaButton);\n        return (\n          <button className={classes.join(' ')} onClick={() => events.kill(target.id)}>\n            Matar {target ? `a ${target.name}` : ''}\n          </button>\n        );\n      }\n      case 'policia': {\n        classes.push(styles.policiaButton);\n        return (\n          <button className={classes.join(' ')} onClick={() => events.investigate(target.id)}>\n            Investigar {target ? `a ${target.name}` : ''}\n          </button>\n        );\n      }\n      case 'medico': {\n        return (\n          <button className={classes.join(' ')} onClick={() => events.protect(target.id)}>\n            Proteger {target ? `a ${target.name}` : ''}\n          </button>\n        );\n      }\n      default: return null;\n    }\n  }\n  return null;\n}\n\n\nconst Playing = ({ game, me, events }) => {\n  const [target, setTarget] = useState(null);\n\n  const selectTarget = (who) => {\n    const target = game.players.find(p => p.id === who);\n    setTarget(target);\n  }\n\n  if (!me) return <div>Loading...</div>;\n  return (\n    <>\n      <h2 className={styles.title}>Juego en curso</h2>\n      {game.turn !== 'admin' && <h4 className={styles.subtitle}>Es el turno de <b>{game.turn}</b></h4>}\n      <div className={[styles.playerList, styles.day].join(' ')}>\n        <ul>\n          {game.players.map((p) => {\n            if (p.isAdmin) return null;\n            const selected = me.job === game.turn && target && target.id === p.id;\n            const disabled = p.status === 'dead';\n            return (\n              <Player\n                key={p.id}\n                player={p}\n                me={me}\n                handleClick={selectTarget}\n                selected={selected}\n                disabled={disabled}\n              />\n            )\n          })}\n        </ul>\n      </div>\n      <div className={styles.buttons}>\n        {renderButtons(game.turn, me, events, target)}\n        {me.isAdmin && renderAdmin(game, events, target)}\n      </div>\n    </>\n  )\n}\n\nexport default Playing;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport Landing from \"./Components/Landing\";\nimport Game from \"./Components/Game\";\n\n// import * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact>\n          <Landing />\n        </Route>\n        <Route path=\"/game\" exact>\n          <Game />\n        </Route>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}